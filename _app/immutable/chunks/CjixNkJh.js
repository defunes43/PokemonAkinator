import{f as D,a as U,c as _e}from"./DFzEfxlG.js";import{i as Pe}from"./DWVIcaX1.js";import{h as ue,a9 as Ee,E as Le,aV as Ce,aW as xe,aD as Ae,O as $e,aX as Oe,av as be,aY as Te,ai as Ue,n as Q,A as je,B as Se,I as H,C as Fe,b as $,m as V,a as c,aT as Re,D as C,F as x,G as P,U as se}from"./CQYrc3Go.js";import{a as qe,s as Y,e as B}from"./Buwk94u_.js";import{i as Z}from"./w71Bs8ow.js";import{e as re,l as We,c as De,i as ne}from"./DVSIJzIQ.js";import{s as G}from"./DiSGI1qT.js";import{a as Me}from"./1VidrSLw.js";import{_ as Ie}from"./PPVm8Dsz.js";function de(t,e,s,r){var a=t.__style;if(ue||a!==e){var n=Me(e);(!ue||n!==t.getAttribute("style"))&&(n==null?t.removeAttribute("style"):t.style.cssText=n),t.__style=e}return r}const He=()=>performance.now(),j={tick:t=>requestAnimationFrame(t),now:()=>He(),tasks:new Set};function we(){const t=j.now();j.tasks.forEach(e=>{e.c(t)||(j.tasks.delete(e),e.f())}),j.tasks.size!==0&&j.tick(we)}function Be(t){let e;return j.tasks.size===0&&j.tick(we),{promise:new Promise(s=>{j.tasks.add(e={c:t,f:s})}),abort(){j.tasks.delete(e)}}}function N(t,e){be(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ge(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function fe(t){const e={},s=t.split(";");for(const r of s){const[a,n]=r.split(":");if(!a||n===void 0)break;const o=Ge(a.trim());e[o]=n.trim()}return e}const Ke=t=>t;function ze(t,e,s,r){var a=(t&Oe)!==0,n="both",o,l=e.inert,h=e.style.overflow,p,y;function u(){return be(()=>o??=s()(e,r?.()??{},{direction:n}))}var f={is_global:a,in(){e.inert=l,N(e,"introstart"),p=oe(e,u(),y,1,()=>{N(e,"introend"),p?.abort(),p=o=void 0,e.style.overflow=h})},out(w){e.inert=!0,N(e,"outrostart"),y=oe(e,u(),p,0,()=>{N(e,"outroend"),w?.()})},stop:()=>{p?.abort(),y?.abort()}},A=Ee;if((A.transitions??=[]).push(f),qe){var _=a;if(!_){for(var v=A.parent;v&&(v.f&Le)!==0;)for(;(v=v.parent)&&(v.f&Ce)===0;);_=!v||(v.f&xe)!==0}_&&Ae(()=>{$e(()=>f.in())})}}function oe(t,e,s,r,a){var n=r===1;if(Te(e)){var o,l=!1;return Ue(()=>{if(!l){var w=e({direction:n?"in":"out"});o=oe(t,w,s,r,a)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(s?.deactivate(),!e?.duration)return a(),{abort:Q,deactivate:Q,reset:Q,t:()=>r};const{delay:h=0,css:p,tick:y,easing:u=Ke}=e;var f=[];if(n&&s===void 0&&(y&&y(0,1),p)){var A=fe(p(0,1));f.push(A,A)}var _=()=>1-r,v=t.animate(f,{duration:h,fill:"forwards"});return v.onfinish=()=>{v.cancel();var w=s?.t()??1-r;s?.abort();var T=r-w,O=e.duration*Math.abs(T),S=[];if(O>0){var F=!1;if(p)for(var R=Math.ceil(O/16.666666666666668),q=0;q<=R;q+=1){var W=w+T*u(q/R),k=fe(p(W,1-W));S.push(k),F||=k.overflow==="hidden"}F&&(t.style.overflow="hidden"),_=()=>{var i=v.currentTime;return w+T*u(i/O)},y&&Be(()=>{if(v.playState!=="running")return!1;var i=_();return y(i,1-i),!0})}v=t.animate(S,{duration:O,fill:"forwards"}),v.onfinish=()=>{_=()=>r,y?.(r,1-r),a()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Q)},deactivate:()=>{a=Q},reset:()=>{r===0&&y?.(1,0)},t:()=>_()}}var K;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(K||(K={}));class ae extends Error{constructor(e,s,r){super(e),this.message=e,this.code=s,this.data=r}}const Je=t=>{var e,s;return t?.androidBridge?"android":!((s=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Qe=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},r=s.Plugins=s.Plugins||{},a=()=>e!==null?e.name:Je(t),n=()=>a()!=="web",o=u=>{const f=p.get(u);return!!(f?.platforms.has(a())||l(u))},l=u=>{var f;return(f=s.PluginHeaders)===null||f===void 0?void 0:f.find(A=>A.name===u)},h=u=>t.console.error(u),p=new Map,y=(u,f={})=>{const A=p.get(u);if(A)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),A.proxy;const _=a(),v=l(u);let w;const T=async()=>(!w&&_ in f?w=typeof f[_]=="function"?w=await f[_]():w=f[_]:e!==null&&!w&&"web"in f&&(w=typeof f.web=="function"?w=await f.web():w=f.web),w),O=(k,i)=>{var d,g;if(v){const b=v?.methods.find(m=>i===m.name);if(b)return b.rtype==="promise"?m=>s.nativePromise(u,i.toString(),m):(m,E)=>s.nativeCallback(u,i.toString(),m,E);if(k)return(d=k[i])===null||d===void 0?void 0:d.bind(k)}else{if(k)return(g=k[i])===null||g===void 0?void 0:g.bind(k);throw new ae(`"${u}" plugin is not implemented on ${_}`,K.Unimplemented)}},S=k=>{let i;const d=(...g)=>{const b=T().then(m=>{const E=O(m,k);if(E){const L=E(...g);return i=L?.remove,L}else throw new ae(`"${u}.${k}()" is not implemented on ${_}`,K.Unimplemented)});return k==="addListener"&&(b.remove=async()=>i()),b};return d.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(d,"name",{value:k,writable:!1,configurable:!1}),d},F=S("addListener"),R=S("removeListener"),q=(k,i)=>{const d=F({eventName:k},i),g=async()=>{const m=await d;R({eventName:k,callbackId:m},i)},b=new Promise(m=>d.then(()=>m({remove:g})));return b.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await g()},b},W=new Proxy({},{get(k,i){switch(i){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?q:F;case"removeListener":return R;default:return S(i)}}});return r[u]=W,p.set(u,{name:u,proxy:W,platforms:new Set([...Object.keys(f),...v?[_]:[]])}),W};return s.convertFileSrc||(s.convertFileSrc=u=>u),s.getPlatform=a,s.handleError=h,s.isNativePlatform=n,s.isPluginAvailable=o,s.registerPlugin=y,s.Exception=ae,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},Ve=t=>t.Capacitor=Qe(t),ie=Ve(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ce=ie.registerPlugin;class ye{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(s);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,r){const a=this.listeners[e];if(!a){if(r){let n=this.retainedEventArguments[e];n||(n=[]),n.push(s),this.retainedEventArguments[e]=n}return}a.forEach(n=>n(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(e="not implemented"){return new ie.Exception(e,K.Unimplemented)}unavailable(e="not available"){return new ie.Exception(e,K.Unavailable)}async removeListener(e,s){const r=this.listeners[e];if(!r)return;const a=r.indexOf(s);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(r=>{this.notifyListeners(e,r)}))}}const ve=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),he=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Xe extends ye{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,n]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=he(a).trim(),n=he(n).trim(),s[a]=n}),s}async setCookie(e){try{const s=ve(e.key),r=ve(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${r||""}${a}; path=${n}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ce("CapacitorCookies",{web:()=>new Xe});const Ye=async t=>new Promise((e,s)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>s(a),r.readAsDataURL(t)}),Ze=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,n,o)=>(a[n]=t[e[o]],a),{})},Ne=(t,e=!0)=>t?Object.entries(t).reduce((r,a)=>{const[n,o]=a;let l,h;return Array.isArray(o)?(h="",o.forEach(p=>{l=e?encodeURIComponent(p):p,h+=`${n}=${l}&`}),h.slice(0,-1)):(l=e?encodeURIComponent(o):o,h=`${n}=${l}`),`${r}&${h}`},"").substr(1):null,et=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),a=Ze(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))n.set(o,l);s.body=n.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((l,h)=>{n.append(h,l)});else for(const l of Object.keys(t.data))n.append(l,t.data[l]);s.body=n;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class tt extends ye{async request(e){const s=et(e,e.webFetchExtra),r=Ne(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,n=await fetch(a,s),o=n.headers.get("content-type")||"";let{responseType:l="text"}=n.ok?e:{};o.includes("application/json")&&(l="json");let h,p;switch(l){case"arraybuffer":case"blob":p=await n.blob(),h=await Ye(p);break;case"json":h=await n.json();break;case"document":case"text":default:h=await n.text()}const y={};return n.headers.forEach((u,f)=>{y[f]=u}),{data:h,headers:y,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ce("CapacitorHttp",{web:()=>new tt});var ge;(function(t){t[t.Flush=0]="Flush",t[t.Add=1]="Add"})(ge||(ge={}));const st=ce("TextToSpeech",{web:()=>Ie(()=>import("./Cel1eNoY.js"),[],import.meta.url).then(t=>new t.TextToSpeechWeb)});function me(t){const e=t.reduce((r,a)=>r+a.length,0);let s=0;for(const r of t){if(r.length===0)continue;const a=r.length/e;s-=a*Math.log2(a)}return s}function rt(t,e){const s=t.filter(n=>n.traits[e.key]===!0),r=t.filter(n=>n.traits[e.key]===!1),a=t.filter(n=>n.traits[e.key]===null);return me([t])-me([s,r,a])}function nt(t,e,s=.1){const r=e.map(n=>{const o=rt(t,n);return{question:n,ig:o*1}});console.log(r),r.sort((n,o)=>n.ig-o.ig);const a=r.slice(0,3);return a.length===0?null:a[Math.floor(Math.random()*a.length)].question}async function ee(t){const e=t.replace(/PokÃ©mon/g,"PoquÃ©mmone").replace(/pokÃ©mon/g,"PoquÃ©mmone");await st.speak({text:e,lang:"fr-FR",rate:1,volume:1})}function at(t){const e=t-1;return e*e*e+1}function pe(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ot(t,{delay:e=0,duration:s=400,easing:r=at,x:a=0,y:n=0,opacity:o=0}={}){const l=getComputedStyle(t),h=+l.opacity,p=l.transform==="none"?"":l.transform,y=h*(1-o),[u,f]=pe(a),[A,_]=pe(n);return{delay:e,duration:s,easing:r,css:(v,w)=>`
			transform: ${p} translate(${(1-v)*u}${f}, ${(1-v)*A}${_});
			opacity: ${h-y*w}`}}var it=D('<div class="question-area svelte-1uha8ag"><p class="current-question-label svelte-1uha8ag"> </p> <button class="knopf btn-round btn-reecouter svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”Š</span> RÃ©Ã©couter</button></div> <div class="answer-buttons svelte-1uha8ag"><button class="knopf btn-round btn-inconnu svelte-1uha8ag">â“ Je ne sais pas</button> <button class="knopf btn-round btn-non svelte-1uha8ag">âŒ Non</button> <button class="knopf btn-round btn-oui svelte-1uha8ag">âœ” Oui</button></div>',1),ct=D('<h2 class="result-message svelte-1uha8ag"> </h2> <button class="knopf btn-round btn-reset svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”„</span> Recommencer</button>',1),lt=D('<li class="pokemon-item svelte-1uha8ag"><img class="pokemon-sprite svelte-1uha8ag"/></li>'),ut=D('<img class="removed-sprite svelte-1uha8ag"/>'),dt=D('<div class="removed-pokemons svelte-1uha8ag"><span class="removed-label svelte-1uha8ag">RetirÃ©s :</span> <div class="removed-sprites-container svelte-1uha8ag"></div></div>'),ft=D('<li class="asked-question-item svelte-1uha8ag"><p class="svelte-1uha8ag"> </p> <div class="question-actions svelte-1uha8ag"><button class="knopf btn-round btn-cancel svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">â†©ï¸</span> Annuler</button></div> <!></li>'),vt=D('<div class="pokeball-animation svelte-1uha8ag"><img src="/pokeball.png" alt="PokÃ©ball" class="svelte-1uha8ag"/></div>'),ht=D('<main class="akinator-container svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ§ </span> PokÃ©mon Akinator</h1></header> <section class="game-section svelte-1uha8ag"><!></section> <hr class="svelte-1uha8ag"/> <div class="status-sections svelte-1uha8ag"><section class="remaining-pokemons-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ‘€</span> </h3> <ul class="pokemon-list svelte-1uha8ag"></ul></section> <section class="asked-questions-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ“œ</span> Questions dÃ©jÃ  posÃ©es :</h3> <ul class="asked-questions-list svelte-1uha8ag"></ul></section></div> <!></main>');function Et(t,e){je(e,!1);let s=V(!1),r=V([]),a=V([]),n=[],o=V(null),l=V("");Se(async()=>{const i=await We();$(r,i.pokemons),n=[...i.questions],y()});function h(i){if(!c(o))return;const{remaining:d,removed:g}=c(r).reduce((m,E)=>{const L=E.traits[c(o).key];return(i==="yes"?L===!0:i==="no"?L===!1:!0)?m.remaining.push(E):m.removed.push(E),m},{remaining:[],removed:[]});$(r,d);const b={...c(o),removedPokemon:g};$(a,[...c(a),b]),n=n.filter(m=>m.key!==c(o).key),y(),console.log(c(a))}function p(i){$(a,c(a).filter(d=>d.key!==i.key)),$(r,[...c(r),...i.removedPokemon]),n=[...n,i],y()}async function y(){if(c(r).length===1){$(s,!0),$(l,`Je pense que ton PokÃ©mon est ${c(r)[0].name} !`),$(o,null),De.add(c(r)[0].name),await Re(),setTimeout(()=>$(s,!1),1500),ee(c(l));return}if(n.length===0||c(r).length===0){$(l,"Je ne suis pas sÃ»r... Il ne reste plus d'options."),$(o,null),ee(c(l));return}$(o,nt(c(r),n)),c(o)&&ee(c(o).label)}Pe();var u=ht(),f=C(x(u),2),A=x(f);{var _=i=>{var d=it(),g=se(d),b=x(g),m=x(b,!0);P(b);var E=C(b,2);P(g);var L=C(g,2),M=x(L),I=C(M,2),z=C(I,2);P(L),H(()=>Y(m,c(o).label)),B("click",E,()=>{c(o)&&ee(c(o).label)}),B("click",M,()=>h("unknown")),B("click",I,()=>h("no")),B("click",z,()=>h("yes")),U(i,d)},v=i=>{var d=_e(),g=se(d);{var b=m=>{var E=ct(),L=se(E),M=x(L,!0);P(L);var I=C(L,2);H(()=>Y(M,c(l))),B("click",I,()=>window.location.reload()),U(m,E)};Z(g,m=>{c(l)&&m(b)},!0)}U(i,d)};Z(A,i=>{c(o)?i(_):i(v,!1)})}P(f);var w=C(f,4),T=x(w),O=x(T),S=C(x(O));P(O);var F=C(O,2);re(F,5,()=>c(r),ne,(i,d)=>{var g=lt(),b=x(g);P(g),H(()=>{de(g,`--p-color: ${c(d).color??""};`),G(b,"src",c(d).sprite),G(b,"alt",c(d).name),G(b,"title",c(d).name)}),U(i,g)}),P(F),P(T);var R=C(T,2),q=C(x(R),2);re(q,5,()=>c(a).slice().reverse(),ne,(i,d)=>{var g=ft(),b=x(g),m=x(b,!0);P(b);var E=C(b,2),L=x(E);P(E);var M=C(E,2);{var I=z=>{var te=dt(),le=C(x(te),2);re(le,5,()=>c(d).removedPokemon,ne,(ke,X)=>{var J=ut();H(()=>{G(J,"src",c(X).sprite),G(J,"alt",c(X).name),G(J,"title",c(X).name),de(J,`--p-color: ${c(X).color??""};`)}),U(ke,J)}),P(le),P(te),U(z,te)};Z(M,z=>{c(d).removedPokemon.length>0&&z(I)})}P(g),H(()=>Y(m,c(d).label)),B("click",L,()=>p(c(d))),U(i,g)}),P(q),P(R),P(w);var W=C(w,2);{var k=i=>{var d=vt();ze(3,d,()=>ot,()=>({y:200,duration:1200})),U(i,d)};Z(W,i=>{c(s)&&i(k)})}P(u),H(()=>Y(S,` PokÃ©mons restants (${c(r).length??""}) :`)),U(t,u),Fe()}export{ye as W,Et as _};
