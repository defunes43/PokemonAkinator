import{e as _e,f as W,a as U,s as Z,g as z,c as Pe}from"./jXiXnHHk.js";import{i as Ee}from"./ClyVqylm.js";import{h as ue,_ as Le,E as Ce,aY as xe,aZ as Ae,ae as $e,a6 as Oe,a_ as Te,aP as be,a$ as Ue,U as je,n as Q,y as Se,z as Fe,F as H,A as Re,B as x,C,a as $,m as V,b as c,av as qe,D as P,ac as se}from"./1KgwcMG7.js";import{i as X}from"./D6xY8P3_.js";import{e as re,i as ne,s as I}from"./Dg1An1W8.js";import{a as Me}from"./1VidrSLw.js";import{l as We,c as De}from"./Dg5e9QJF.js";import{_ as He}from"./PPVm8Dsz.js";import{b as Ie}from"./CBxW3Ezt.js";function de(t,e,s,r){var a=t.__style;if(ue||a!==e){var n=Me(e);(!ue||n!==t.getAttribute("style"))&&(n==null?t.removeAttribute("style"):t.style.cssText=n),t.__style=e}return r}const Be=()=>performance.now(),j={tick:t=>requestAnimationFrame(t),now:()=>Be(),tasks:new Set};function we(){const t=j.now();j.tasks.forEach(e=>{e.c(t)||(j.tasks.delete(e),e.f())}),j.tasks.size!==0&&j.tick(we)}function ze(t){let e;return j.tasks.size===0&&j.tick(we),{promise:new Promise(s=>{j.tasks.add(e={c:t,f:s})}),abort(){j.tasks.delete(e)}}}function N(t,e){be(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ge(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function fe(t){const e={},s=t.split(";");for(const r of s){const[a,n]=r.split(":");if(!a||n===void 0)break;const o=Ge(a.trim());e[o]=n.trim()}return e}const Ke=t=>t;function Je(t,e,s,r){var a=(t&Te)!==0,n="both",o,l=e.inert,g=e.style.overflow,p,y;function d(){return be(()=>o??=s()(e,r?.()??{},{direction:n}))}var f={is_global:a,in(){e.inert=l,N(e,"introstart"),p=oe(e,d(),y,1,()=>{N(e,"introend"),p?.abort(),p=o=void 0,e.style.overflow=g})},out(w){e.inert=!0,N(e,"outrostart"),y=oe(e,d(),p,0,()=>{N(e,"outroend"),w?.()})},stop:()=>{p?.abort(),y?.abort()}},A=Le;if((A.transitions??=[]).push(f),_e){var _=a;if(!_){for(var v=A.parent;v&&(v.f&Ce)!==0;)for(;(v=v.parent)&&(v.f&xe)===0;);_=!v||(v.f&Ae)!==0}_&&$e(()=>{Oe(()=>f.in())})}}function oe(t,e,s,r,a){var n=r===1;if(Ue(e)){var o,l=!1;return je(()=>{if(!l){var w=e({direction:n?"in":"out"});o=oe(t,w,s,r,a)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(s?.deactivate(),!e?.duration)return a(),{abort:Q,deactivate:Q,reset:Q,t:()=>r};const{delay:g=0,css:p,tick:y,easing:d=Ke}=e;var f=[];if(n&&s===void 0&&(y&&y(0,1),p)){var A=fe(p(0,1));f.push(A,A)}var _=()=>1-r,v=t.animate(f,{duration:g,fill:"forwards"});return v.onfinish=()=>{v.cancel();var w=s?.t()??1-r;s?.abort();var T=r-w,O=e.duration*Math.abs(T),S=[];if(O>0){var F=!1;if(p)for(var R=Math.ceil(O/16.666666666666668),q=0;q<=R;q+=1){var M=w+T*d(q/R),k=fe(p(M,1-M));S.push(k),F||=k.overflow==="hidden"}F&&(t.style.overflow="hidden"),_=()=>{var i=v.currentTime;return w+T*d(i/O)},y&&ze(()=>{if(v.playState!=="running")return!1;var i=_();return y(i,1-i),!0})}v=t.animate(S,{duration:O,fill:"forwards"}),v.onfinish=()=>{_=()=>r,y?.(r,1-r),a()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=Q)},deactivate:()=>{a=Q},reset:()=>{r===0&&y?.(1,0)},t:()=>_()}}var G;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(G||(G={}));class ae extends Error{constructor(e,s,r){super(e),this.message=e,this.code=s,this.data=r}}const Qe=t=>{var e,s;return t?.androidBridge?"android":!((s=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Ve=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},r=s.Plugins=s.Plugins||{},a=()=>e!==null?e.name:Qe(t),n=()=>a()!=="web",o=d=>{const f=p.get(d);return!!(f?.platforms.has(a())||l(d))},l=d=>{var f;return(f=s.PluginHeaders)===null||f===void 0?void 0:f.find(A=>A.name===d)},g=d=>t.console.error(d),p=new Map,y=(d,f={})=>{const A=p.get(d);if(A)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),A.proxy;const _=a(),v=l(d);let w;const T=async()=>(!w&&_ in f?w=typeof f[_]=="function"?w=await f[_]():w=f[_]:e!==null&&!w&&"web"in f&&(w=typeof f.web=="function"?w=await f.web():w=f.web),w),O=(k,i)=>{var u,h;if(v){const b=v?.methods.find(m=>i===m.name);if(b)return b.rtype==="promise"?m=>s.nativePromise(d,i.toString(),m):(m,E)=>s.nativeCallback(d,i.toString(),m,E);if(k)return(u=k[i])===null||u===void 0?void 0:u.bind(k)}else{if(k)return(h=k[i])===null||h===void 0?void 0:h.bind(k);throw new ae(`"${d}" plugin is not implemented on ${_}`,G.Unimplemented)}},S=k=>{let i;const u=(...h)=>{const b=T().then(m=>{const E=O(m,k);if(E){const L=E(...h);return i=L?.remove,L}else throw new ae(`"${d}.${k}()" is not implemented on ${_}`,G.Unimplemented)});return k==="addListener"&&(b.remove=async()=>i()),b};return u.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(u,"name",{value:k,writable:!1,configurable:!1}),u},F=S("addListener"),R=S("removeListener"),q=(k,i)=>{const u=F({eventName:k},i),h=async()=>{const m=await u;R({eventName:k,callbackId:m},i)},b=new Promise(m=>u.then(()=>m({remove:h})));return b.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await h()},b},M=new Proxy({},{get(k,i){switch(i){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?q:F;case"removeListener":return R;default:return S(i)}}});return r[d]=M,p.set(d,{name:d,proxy:M,platforms:new Set([...Object.keys(f),...v?[_]:[]])}),M};return s.convertFileSrc||(s.convertFileSrc=d=>d),s.getPlatform=a,s.handleError=g,s.isNativePlatform=n,s.isPluginAvailable=o,s.registerPlugin=y,s.Exception=ae,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},Ye=t=>t.Capacitor=Ve(t),ie=Ye(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ce=ie.registerPlugin;class ye{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(s);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,r){const a=this.listeners[e];if(!a){if(r){let n=this.retainedEventArguments[e];n||(n=[]),n.push(s),this.retainedEventArguments[e]=n}return}a.forEach(n=>n(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(e="not implemented"){return new ie.Exception(e,G.Unimplemented)}unavailable(e="not available"){return new ie.Exception(e,G.Unavailable)}async removeListener(e,s){const r=this.listeners[e];if(!r)return;const a=r.indexOf(s);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(r=>{this.notifyListeners(e,r)}))}}const ve=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),he=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ze extends ye{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[a,n]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=he(a).trim(),n=he(n).trim(),s[a]=n}),s}async setCookie(e){try{const s=ve(e.key),r=ve(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${r||""}${a}; path=${n}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ce("CapacitorCookies",{web:()=>new Ze});const Xe=async t=>new Promise((e,s)=>{const r=new FileReader;r.onload=()=>{const a=r.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},r.onerror=a=>s(a),r.readAsDataURL(t)}),Ne=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,n,o)=>(a[n]=t[e[o]],a),{})},et=(t,e=!0)=>t?Object.entries(t).reduce((r,a)=>{const[n,o]=a;let l,g;return Array.isArray(o)?(g="",o.forEach(p=>{l=e?encodeURIComponent(p):p,g+=`${n}=${l}&`}),g.slice(0,-1)):(l=e?encodeURIComponent(o):o,g=`${n}=${l}`),`${r}&${g}`},"").substr(1):null,tt=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),a=Ne(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))n.set(o,l);s.body=n.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((l,g)=>{n.append(g,l)});else for(const l of Object.keys(t.data))n.append(l,t.data[l]);s.body=n;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class st extends ye{async request(e){const s=tt(e,e.webFetchExtra),r=et(e.params,e.shouldEncodeUrlParams),a=r?`${e.url}?${r}`:e.url,n=await fetch(a,s),o=n.headers.get("content-type")||"";let{responseType:l="text"}=n.ok?e:{};o.includes("application/json")&&(l="json");let g,p;switch(l){case"arraybuffer":case"blob":p=await n.blob(),g=await Xe(p);break;case"json":g=await n.json();break;case"document":case"text":default:g=await n.text()}const y={};return n.headers.forEach((d,f)=>{y[f]=d}),{data:g,headers:y,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ce("CapacitorHttp",{web:()=>new st});var ge;(function(t){t[t.Flush=0]="Flush",t[t.Add=1]="Add"})(ge||(ge={}));const rt=ce("TextToSpeech",{web:()=>He(()=>import("./d-VbtAJC.js"),[],import.meta.url).then(t=>new t.TextToSpeechWeb)});function me(t){const e=t.reduce((r,a)=>r+a.length,0);let s=0;for(const r of t){if(r.length===0)continue;const a=r.length/e;s-=a*Math.log2(a)}return s}function nt(t,e){const s=t.filter(n=>n.traits[e.key]===!0),r=t.filter(n=>n.traits[e.key]===!1),a=t.filter(n=>n.traits[e.key]===null);return me([t])-me([s,r,a])}function at(t,e,s=.1){const r=e.map(n=>{const o=nt(t,n);return{question:n,ig:o*1}});console.log(r),r.sort((n,o)=>n.ig-o.ig);const a=r.slice(0,3);return a.length===0?null:a[Math.floor(Math.random()*a.length)].question}async function ee(t){const e=t.replace(/PokÃ©mon/g,"PoquÃ©mmone").replace(/pokÃ©mon/g,"PoquÃ©mmone");await rt.speak({text:e,lang:"fr-FR",rate:1,volume:1})}function ot(t){const e=t-1;return e*e*e+1}function pe(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function it(t,{delay:e=0,duration:s=400,easing:r=ot,x:a=0,y:n=0,opacity:o=0}={}){const l=getComputedStyle(t),g=+l.opacity,p=l.transform==="none"?"":l.transform,y=g*(1-o),[d,f]=pe(a),[A,_]=pe(n);return{delay:e,duration:s,easing:r,css:(v,w)=>`
			transform: ${p} translate(${(1-v)*d}${f}, ${(1-v)*A}${_});
			opacity: ${g-y*w}`}}var ct=W('<div class="question-area svelte-1uha8ag"><p class="current-question-label svelte-1uha8ag"> </p> <button class="knopf btn-round btn-reecouter svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”Š</span> RÃ©Ã©couter</button></div> <div class="answer-buttons svelte-1uha8ag"><button class="knopf btn-round btn-inconnu svelte-1uha8ag">â“ Je ne sais pas</button> <button class="knopf btn-round btn-non svelte-1uha8ag">âŒ Non</button> <button class="knopf btn-round btn-oui svelte-1uha8ag">âœ” Oui</button></div>',1),lt=W('<h2 class="result-message svelte-1uha8ag"> </h2> <button class="knopf btn-round btn-reset svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”„</span> Recommencer</button>',1),ut=W('<li class="pokemon-item svelte-1uha8ag"><img class="pokemon-sprite svelte-1uha8ag"/></li>'),dt=W('<img class="removed-sprite svelte-1uha8ag"/>'),ft=W('<div class="removed-pokemons svelte-1uha8ag"><span class="removed-label svelte-1uha8ag">RetirÃ©s :</span> <div class="removed-sprites-container svelte-1uha8ag"></div></div>'),vt=W('<li class="asked-question-item svelte-1uha8ag"><p class="svelte-1uha8ag"> </p> <div class="question-actions svelte-1uha8ag"><button class="knopf btn-round btn-cancel svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">â†©ï¸</span> Annuler</button></div> <!></li>'),ht=W('<div class="pokeball-animation svelte-1uha8ag"><img alt="PokÃ©ball" class="svelte-1uha8ag"/></div>'),gt=W('<main class="akinator-container svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ§ </span> PokÃ©mon Akinator</h1></header> <section class="game-section svelte-1uha8ag"><!></section> <hr class="svelte-1uha8ag"/> <div class="status-sections svelte-1uha8ag"><section class="remaining-pokemons-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ‘€</span> </h3> <ul class="pokemon-list svelte-1uha8ag"></ul></section> <section class="asked-questions-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ“œ</span> Questions dÃ©jÃ  posÃ©es :</h3> <ul class="asked-questions-list svelte-1uha8ag"></ul></section></div> <!></main>');function Lt(t,e){Se(e,!1);let s=V(!1),r=V([]),a=V([]),n=[],o=V(null),l=V("");Fe(async()=>{const i=await We();$(r,i.pokemons),n=[...i.questions],y()});function g(i){if(!c(o))return;const{remaining:u,removed:h}=c(r).reduce((m,E)=>{const L=E.traits[c(o).key];return(i==="yes"?L===!0:i==="no"?L===!1:!0)?m.remaining.push(E):m.removed.push(E),m},{remaining:[],removed:[]});$(r,u);const b={...c(o),removedPokemon:h};$(a,[...c(a),b]),n=n.filter(m=>m.key!==c(o).key),y(),console.log(c(a))}function p(i){$(a,c(a).filter(u=>u.key!==i.key)),$(r,[...c(r),...i.removedPokemon]),n=[...n,i],y()}async function y(){if(c(r).length===1){$(s,!0),$(l,`Je pense que ton PokÃ©mon est ${c(r)[0].name} !`),$(o,null),De.add(c(r)[0].name),await qe(),setTimeout(()=>$(s,!1),1500),ee(c(l));return}if(n.length===0||c(r).length===0){$(l,"Je ne suis pas sÃ»r... Il ne reste plus d'options."),$(o,null),ee(c(l));return}$(o,at(c(r),n)),c(o)&&ee(c(o).label)}Ee();var d=gt(),f=x(C(d),2),A=C(f);{var _=i=>{var u=ct(),h=se(u),b=C(h),m=C(b,!0);P(b);var E=x(b,2);P(h);var L=x(h,2),D=C(L),B=x(D,2),K=x(B,2);P(L),H(()=>Z(m,c(o).label)),z("click",E,()=>{c(o)&&ee(c(o).label)}),z("click",D,()=>g("unknown")),z("click",B,()=>g("no")),z("click",K,()=>g("yes")),U(i,u)},v=i=>{var u=Pe(),h=se(u);{var b=m=>{var E=lt(),L=se(E),D=C(L,!0);P(L);var B=x(L,2);H(()=>Z(D,c(l))),z("click",B,()=>window.location.reload()),U(m,E)};X(h,m=>{c(l)&&m(b)},!0)}U(i,u)};X(A,i=>{c(o)?i(_):i(v,!1)})}P(f);var w=x(f,4),T=C(w),O=C(T),S=x(C(O));P(O);var F=x(O,2);re(F,5,()=>c(r),ne,(i,u)=>{var h=ut(),b=C(h);P(h),H(()=>{de(h,`--p-color: ${c(u).color??""};`),I(b,"src",c(u).sprite),I(b,"alt",c(u).name),I(b,"title",c(u).name)}),U(i,h)}),P(F),P(T);var R=x(T,2),q=x(C(R),2);re(q,5,()=>c(a).slice().reverse(),ne,(i,u)=>{var h=vt(),b=C(h),m=C(b,!0);P(b);var E=x(b,2),L=C(E);P(E);var D=x(E,2);{var B=K=>{var te=ft(),le=x(C(te),2);re(le,5,()=>c(u).removedPokemon,ne,(ke,Y)=>{var J=dt();H(()=>{I(J,"src",c(Y).sprite),I(J,"alt",c(Y).name),I(J,"title",c(Y).name),de(J,`--p-color: ${c(Y).color??""};`)}),U(ke,J)}),P(le),P(te),U(K,te)};X(D,K=>{c(u).removedPokemon.length>0&&K(B)})}P(h),H(()=>Z(m,c(u).label)),z("click",L,()=>p(c(u))),U(i,h)}),P(q),P(R),P(w);var M=x(w,2);{var k=i=>{var u=ht(),h=C(u);P(u),H(()=>I(h,"src",`${Ie??""}/pokeball.png`)),Je(3,u,()=>it,()=>({y:200,duration:1200})),U(i,u)};X(M,i=>{c(s)&&i(k)})}P(d),H(()=>Z(S,` PokÃ©mons restants (${c(r).length??""}) :`)),U(t,d),Re()}export{ye as W,Lt as _};
