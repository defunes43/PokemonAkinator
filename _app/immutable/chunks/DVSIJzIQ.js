import{v as J,c as G,i as O,h as S,V as K,e as Q,a as V,W as j,r as ee,H as ae,f as Y,j as P,x as D,X as re,Y as ne,w as B,z as se,o as te,Z as le,m as fe,_ as q,$ as U,a0 as ie,a1 as ue,p as X,u as oe,a2 as ve,a3 as ce,a4 as R,q as $,a5 as de,a6 as _e,a7 as he,a8 as pe,a9 as me,aa as Ee}from"./CQYrc3Go.js";function Te(r,a){return a}function ge(r,a,e){for(var f=r.items,o=[],v=a.length,u=0;u<v;u++)_e(a[u].e,o,!0);var h=v>0&&o.length===0&&e!==null;if(h){var E=e.parentNode;he(E),E.append(e),f.clear(),I(r,a[0].prev,a[v-1].next)}pe(o,()=>{for(var _=0;_<v;_++){var m=a[_];h||(f.delete(m.k),I(r,m.prev,m.next)),$(m.e,!h)}})}function Ae(r,a,e,f,o,v=null){var u=r,h={flags:a,items:new Map,first:null};{var E=r;u=S?O(K(E)):E.appendChild(J())}S&&Q();var _=null,m=!1,x=new Map,n=j(()=>{var l=e();return ie(l)?l:l==null?[]:U(l)}),d,s;function t(){be(s,d,h,x,u,o,a,f,e),v!==null&&(d.length===0?_?X(_):_=B(()=>v(u)):_!==null&&oe(_,()=>{_=null}))}G(()=>{s??=me,d=V(n);var l=d.length;if(m&&l===0)return;m=l===0;let A=!1;if(S){var b=ee(u)===ae;b!==(l===0)&&(u=Y(),O(u),P(!1),A=!0)}if(S){for(var i=null,p,c=0;c<l;c++){if(D.nodeType===re&&D.data===ne){u=D,A=!0,P(!1);break}var T=d[c],w=f(T,c);p=L(D,h,i,null,T,w,c,o,a,e),h.items.set(w,p),i=p}l>0&&O(Y())}if(S)l===0&&v&&(_=B(()=>v(u)));else if(se()){var N=new Set,g=te;for(c=0;c<l;c+=1){T=d[c],w=f(T,c);var C=h.items.get(w)??x.get(w);C?z(C,T,c):(p=L(null,h,null,null,T,w,c,o,a,e,!0),x.set(w,p)),N.add(w)}for(const[M,y]of h.items)N.has(M)||g.skipped_effects.add(y.e);g.oncommit(t)}else t();A&&P(!0),V(n)}),S&&(u=D)}function be(r,a,e,f,o,v,u,h,E){var _=a.length,m=e.items,x=e.first,n=x,d,s=null,t=[],l=[],A,b,i,p;for(p=0;p<_;p+=1){if(A=a[p],b=h(A,p),i=m.get(b),i===void 0){var c=f.get(b);if(c!==void 0){f.delete(b),m.set(b,c);var T=s?s.next:n;I(e,s,c),I(e,c,T),k(c,T,o),s=c}else{var w=n?n.e.nodes_start:o;s=L(w,e,s,s===null?e.first:s.next,A,b,p,v,u,E)}m.set(b,s),t=[],l=[],n=s.next;continue}if(z(i,A,p),(i.e.f&R)!==0&&X(i.e),i!==n){if(d!==void 0&&d.has(i)){if(t.length<l.length){var N=l[0],g;s=N.prev;var C=t[0],M=t[t.length-1];for(g=0;g<t.length;g+=1)k(t[g],N,o);for(g=0;g<l.length;g+=1)d.delete(l[g]);I(e,C.prev,M.next),I(e,s,C),I(e,M,N),n=N,s=M,p-=1,t=[],l=[]}else d.delete(i),k(i,n,o),I(e,i.prev,i.next),I(e,i,s===null?e.first:s.next),I(e,s,i),s=i;continue}for(t=[],l=[];n!==null&&n.k!==b;)(n.e.f&R)===0&&(d??=new Set).add(n),l.push(n),n=n.next;if(n===null)continue;i=n}t.push(i),s=i,n=i.next}if(n!==null||d!==void 0){for(var y=d===void 0?[]:U(d);n!==null;)(n.e.f&R)===0&&y.push(n),n=n.next;var F=y.length;if(F>0){var W=_===0?o:null;ge(e,y,W)}}r.first=e.first&&e.first.e,r.last=s&&s.e;for(var Z of f.values())$(Z.e);f.clear()}function z(r,a,e,f){le(r.v,a),r.i=e}function L(r,a,e,f,o,v,u,h,E,_,m){var x=(E&ve)!==0,n=(E&ce)===0,d=x?n?fe(o,!1,!1):q(o):o,s=(E&ue)===0?u:q(u),t={i:s,v:d,k:v,a:null,e:null,prev:e,next:f};try{if(r===null){var l=document.createDocumentFragment();l.append(r=J())}return t.e=B(()=>h(r,d,s,_),S),t.e.prev=e&&e.e,t.e.next=f&&f.e,e===null?m||(a.first=t):(e.next=t,e.e.next=t.e),f!==null&&(f.prev=t,f.e.prev=t.e),t}finally{}}function k(r,a,e){for(var f=r.next?r.next.e.nodes_start:e,o=a?a.e.nodes_start:e,v=r.e.nodes_start;v!==null&&v!==f;){var u=de(v);o.before(v),v=u}}function I(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}const we="/PokemonAkinator";async function xe(){const a=`${we}/pokemons.json`,e=await fetch(a);if(!e.ok)throw new Error("Impossible de charger pokemons.json");return e.json()}const H=Ee([]);{const r=JSON.parse(localStorage.getItem("collection")??"[]");H.set(r),H.subscribe(a=>{localStorage.setItem("collection",JSON.stringify(a))})}const Ne={subscribe:H.subscribe,add:r=>{H.update(a=>a.includes(r)?a:[...a,r])},clear:()=>H.set([])};export{Ne as c,Ae as e,Te as i,xe as l};
