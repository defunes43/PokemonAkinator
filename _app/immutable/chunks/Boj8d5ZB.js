import{e as Pe,f as W,a as F,s as X,g as G,c as Ee}from"./jXiXnHHk.js";import{i as Le}from"./ClyVqylm.js";import{h as de,_ as Ce,E as xe,aY as Ae,aZ as $e,ae as Oe,a6 as Te,a_ as Ue,aP as we,a$ as Se,U as je,n as V,y as Fe,z as Re,F as H,A as qe,B as A,C as x,a as $,m as Y,b as c,av as Me,D as P,ac as re}from"./1KgwcMG7.js";import{i as N}from"./D6xY8P3_.js";import{e as ne,i as ae,s as I}from"./Dg1An1W8.js";import{a as We}from"./1VidrSLw.js";import{l as Be,c as De,P as He}from"./DjsSaSUY.js";import{_ as Ie}from"./PPVm8Dsz.js";function fe(t,e,s,a){var r=t.__style;if(de||r!==e){var n=We(e);(!de||n!==t.getAttribute("style"))&&(n==null?t.removeAttribute("style"):t.style.cssText=n),t.__style=e}return a}const ze=()=>performance.now(),R={tick:t=>requestAnimationFrame(t),now:()=>ze(),tasks:new Set};function ye(){const t=R.now();R.tasks.forEach(e=>{e.c(t)||(R.tasks.delete(e),e.f())}),R.tasks.size!==0&&R.tick(ye)}function Ge(t){let e;return R.tasks.size===0&&R.tick(ye),{promise:new Promise(s=>{R.tasks.add(e={c:t,f:s})}),abort(){R.tasks.delete(e)}}}function ee(t,e){we(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ke(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("")}function ve(t){const e={},s=t.split(";");for(const a of s){const[r,n]=a.split(":");if(!r||n===void 0)break;const o=Ke(r.trim());e[o]=n.trim()}return e}const Je=t=>t;function Qe(t,e,s,a){var r=(t&Ue)!==0,n="both",o,i=e.inert,h=e.style.overflow,p,_;function u(){return we(()=>o??=s()(e,a?.()??{},{direction:n}))}var f={is_global:r,in(){e.inert=i,ee(e,"introstart"),p=ie(e,u(),_,1,()=>{ee(e,"introend"),p?.abort(),p=o=void 0,e.style.overflow=h})},out(b){e.inert=!0,ee(e,"outrostart"),_=ie(e,u(),p,0,()=>{ee(e,"outroend"),b?.()})},stop:()=>{p?.abort(),_?.abort()}},C=Ce;if((C.transitions??=[]).push(f),Pe){var k=r;if(!k){for(var v=C.parent;v&&(v.f&xe)!==0;)for(;(v=v.parent)&&(v.f&Ae)===0;);k=!v||(v.f&$e)!==0}k&&Oe(()=>{Te(()=>f.in())})}}function ie(t,e,s,a,r){var n=a===1;if(Se(e)){var o,i=!1;return je(()=>{if(!i){var b=e({direction:n?"in":"out"});o=ie(t,b,s,a,r)}}),{abort:()=>{i=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(s?.deactivate(),!e?.duration)return r(),{abort:V,deactivate:V,reset:V,t:()=>a};const{delay:h=0,css:p,tick:_,easing:u=Je}=e;var f=[];if(n&&s===void 0&&(_&&_(0,1),p)){var C=ve(p(0,1));f.push(C,C)}var k=()=>1-a,v=t.animate(f,{duration:h,fill:"forwards"});return v.onfinish=()=>{v.cancel();var b=s?.t()??1-a;s?.abort();var S=a-b,T=e.duration*Math.abs(S),U=[];if(T>0){var B=!1;if(p)for(var q=Math.ceil(T/16.666666666666668),M=0;M<=q;M+=1){var j=b+S*u(M/q),w=ve(p(j,1-j));U.push(w),B||=w.overflow==="hidden"}B&&(t.style.overflow="hidden"),k=()=>{var y=v.currentTime;return b+S*u(y/T)},_&&Ge(()=>{if(v.playState!=="running")return!1;var y=k();return _(y,1-y),!0})}v=t.animate(U,{duration:T,fill:"forwards"}),v.onfinish=()=>{k=()=>a,_?.(a,1-a),r()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=V)},deactivate:()=>{r=V},reset:()=>{a===0&&_?.(1,0)},t:()=>k()}}var K;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(K||(K={}));class oe extends Error{constructor(e,s,a){super(e),this.message=e,this.code=s,this.data=a}}const Ve=t=>{var e,s;return t?.androidBridge?"android":!((s=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},Ye=t=>{const e=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},a=s.Plugins=s.Plugins||{},r=()=>e!==null?e.name:Ve(t),n=()=>r()!=="web",o=u=>{const f=p.get(u);return!!(f?.platforms.has(r())||i(u))},i=u=>{var f;return(f=s.PluginHeaders)===null||f===void 0?void 0:f.find(C=>C.name===u)},h=u=>t.console.error(u),p=new Map,_=(u,f={})=>{const C=p.get(u);if(C)return console.warn(`Capacitor plugin "${u}" already registered. Cannot register plugins twice.`),C.proxy;const k=r(),v=i(u);let b;const S=async()=>(!b&&k in f?b=typeof f[k]=="function"?b=await f[k]():b=f[k]:e!==null&&!b&&"web"in f&&(b=typeof f.web=="function"?b=await f.web():b=f.web),b),T=(w,y)=>{var l,d;if(v){const g=v?.methods.find(m=>y===m.name);if(g)return g.rtype==="promise"?m=>s.nativePromise(u,y.toString(),m):(m,E)=>s.nativeCallback(u,y.toString(),m,E);if(w)return(l=w[y])===null||l===void 0?void 0:l.bind(w)}else{if(w)return(d=w[y])===null||d===void 0?void 0:d.bind(w);throw new oe(`"${u}" plugin is not implemented on ${k}`,K.Unimplemented)}},U=w=>{let y;const l=(...d)=>{const g=S().then(m=>{const E=T(m,w);if(E){const L=E(...d);return y=L?.remove,L}else throw new oe(`"${u}.${w}()" is not implemented on ${k}`,K.Unimplemented)});return w==="addListener"&&(g.remove=async()=>y()),g};return l.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(l,"name",{value:w,writable:!1,configurable:!1}),l},B=U("addListener"),q=U("removeListener"),M=(w,y)=>{const l=B({eventName:w},y),d=async()=>{const m=await l;q({eventName:w,callbackId:m},y)},g=new Promise(m=>l.then(()=>m({remove:d})));return g.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await d()},g},j=new Proxy({},{get(w,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?M:B;case"removeListener":return q;default:return U(y)}}});return a[u]=j,p.set(u,{name:u,proxy:j,platforms:new Set([...Object.keys(f),...v?[k]:[]])}),j};return s.convertFileSrc||(s.convertFileSrc=u=>u),s.getPlatform=r,s.handleError=h,s.isNativePlatform=n,s.isPluginAvailable=o,s.registerPlugin=_,s.Exception=oe,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},Ze=t=>t.Capacitor=Ye(t),ce=Ze(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),le=ce.registerPlugin;class ke{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,s){let a=!1;this.listeners[e]||(this.listeners[e]=[],a=!0),this.listeners[e].push(s);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),a&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,s,a){const r=this.listeners[e];if(!r){if(a){let n=this.retainedEventArguments[e];n||(n=[]),n.push(s),this.retainedEventArguments[e]=n}return}r.forEach(n=>n(s))}hasListeners(e){var s;return!!(!((s=this.listeners[e])===null||s===void 0)&&s.length)}registerWindowListener(e,s){this.windowListeners[s]={registered:!1,windowEventName:e,pluginEventName:s,handler:a=>{this.notifyListeners(s,a)}}}unimplemented(e="not implemented"){return new ce.Exception(e,K.Unimplemented)}unavailable(e="not available"){return new ce.Exception(e,K.Unavailable)}async removeListener(e,s){const a=this.listeners[e];if(!a)return;const r=a.indexOf(s);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const s=this.retainedEventArguments[e];s&&(delete this.retainedEventArguments[e],s.forEach(a=>{this.notifyListeners(e,a)}))}}const he=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ge=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Xe extends ke{async getCookies(){const e=document.cookie,s={};return e.split(";").forEach(a=>{if(a.length<=0)return;let[r,n]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=ge(r).trim(),n=ge(n).trim(),s[r]=n}),s}async setCookie(e){try{const s=he(e.key),a=he(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${s}=${a||""}${r}; path=${n}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const s of e)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}le("CapacitorCookies",{web:()=>new Xe});const Ne=async t=>new Promise((e,s)=>{const a=new FileReader;a.onload=()=>{const r=a.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>s(r),a.readAsDataURL(t)}),et=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,n,o)=>(r[n]=t[e[o]],r),{})},tt=(t,e=!0)=>t?Object.entries(t).reduce((a,r)=>{const[n,o]=r;let i,h;return Array.isArray(o)?(h="",o.forEach(p=>{i=e?encodeURIComponent(p):p,h+=`${n}=${i}&`}),h.slice(0,-1)):(i=e?encodeURIComponent(o):o,h=`${n}=${i}`),`${a}&${h}`},"").substr(1):null,st=(t,e={})=>{const s=Object.assign({method:t.method||"GET",headers:t.headers},e),r=et(t.headers)["content-type"]||"";if(typeof t.data=="string")s.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[o,i]of Object.entries(t.data||{}))n.set(o,i);s.body=n.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((i,h)=>{n.append(h,i)});else for(const i of Object.keys(t.data))n.append(i,t.data[i]);s.body=n;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(r.includes("application/json")||typeof t.data=="object")&&(s.body=JSON.stringify(t.data));return s};class rt extends ke{async request(e){const s=st(e,e.webFetchExtra),a=tt(e.params,e.shouldEncodeUrlParams),r=a?`${e.url}?${a}`:e.url,n=await fetch(r,s),o=n.headers.get("content-type")||"";let{responseType:i="text"}=n.ok?e:{};o.includes("application/json")&&(i="json");let h,p;switch(i){case"arraybuffer":case"blob":p=await n.blob(),h=await Ne(p);break;case"json":h=await n.json();break;case"document":case"text":default:h=await n.text()}const _={};return n.headers.forEach((u,f)=>{_[f]=u}),{data:h,headers:_,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}le("CapacitorHttp",{web:()=>new rt});var me;(function(t){t[t.Flush=0]="Flush",t[t.Add=1]="Add"})(me||(me={}));const nt=le("TextToSpeech",{web:()=>Ie(()=>import("./DDRnl7Q4.js"),[],import.meta.url).then(t=>new t.TextToSpeechWeb)});function pe(t){const e=t.reduce((a,r)=>a+r.length,0);let s=0;for(const a of t){if(a.length===0)continue;const r=a.length/e;s-=r*Math.log2(r)}return s}function at(t,e){const s=t.filter(n=>n.traits[e.key]===!0),a=t.filter(n=>n.traits[e.key]===!1),r=t.filter(n=>n.traits[e.key]===null);return pe([t])-pe([s,a,r])}function ot(t,e,s=.1){const a=e.map(n=>{const o=at(t,n);return{question:n,ig:o*1}});console.log(a),a.sort((n,o)=>n.ig-o.ig);const r=a.slice(0,3);return r.length===0?null:r[Math.floor(Math.random()*r.length)].question}async function te(t){const e=t.replace(/PokÃ©mon/g,"PoquÃ©mmone").replace(/pokÃ©mon/g,"PoquÃ©mmone");await nt.speak({text:e,lang:"fr-FR",rate:1,volume:1})}function it(t){const e=t-1;return e*e*e+1}function be(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ct(t,{delay:e=0,duration:s=400,easing:a=it,x:r=0,y:n=0,opacity:o=0}={}){const i=getComputedStyle(t),h=+i.opacity,p=i.transform==="none"?"":i.transform,_=h*(1-o),[u,f]=be(r),[C,k]=be(n);return{delay:e,duration:s,easing:a,css:(v,b)=>`
			transform: ${p} translate(${(1-v)*u}${f}, ${(1-v)*C}${k});
			opacity: ${h-_*b}`}}var lt=W('<div class="question-area svelte-1uha8ag"><p class="current-question-label svelte-1uha8ag"> </p> <button class="knopf btn-round btn-reecouter svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”Š</span> RÃ©Ã©couter</button></div> <div class="answer-buttons svelte-1uha8ag"><button class="knopf btn-round btn-inconnu svelte-1uha8ag">â“ Je ne sais pas</button> <button class="knopf btn-round btn-non svelte-1uha8ag">âŒ Non</button> <button class="knopf btn-round btn-oui svelte-1uha8ag">âœ” Oui</button></div>',1),ut=W('<h2 class="result-message svelte-1uha8ag"> </h2> <button class="knopf btn-round btn-reset svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ”„</span> Recommencer</button>',1),dt=W('<li class="pokemon-item svelte-1uha8ag"><img class="pokemon-sprite svelte-1uha8ag"/></li>'),ft=W('<img class="removed-sprite svelte-1uha8ag"/>'),vt=W('<div class="removed-pokemons svelte-1uha8ag"><span class="removed-label svelte-1uha8ag">RetirÃ©s :</span> <div class="removed-sprites-container svelte-1uha8ag"></div></div>'),ht=W('<li class="asked-question-item svelte-1uha8ag"><p class="svelte-1uha8ag"> </p> <div class="question-actions svelte-1uha8ag"><button class="knopf btn-round btn-cancel svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">â†©ï¸</span> Annuler</button></div> <!></li>'),gt=W('<div class="pokeball-animation svelte-1uha8ag"><img alt="PokÃ©ball" class="svelte-1uha8ag"/></div>'),mt=W('<main class="akinator-container svelte-1uha8ag"><header class="svelte-1uha8ag"><h1 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ§ </span> PokÃ©mon Akinator</h1></header> <section class="game-section svelte-1uha8ag"><!></section> <hr class="svelte-1uha8ag"/> <div class="status-sections svelte-1uha8ag"><section class="remaining-pokemons-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ‘€</span> </h3> <ul class="pokemon-list svelte-1uha8ag"></ul></section> <section class="asked-questions-section svelte-1uha8ag"><h3 class="svelte-1uha8ag"><span aria-hidden="true" class="svelte-1uha8ag">ğŸ“œ</span> Questions dÃ©jÃ  posÃ©es :</h3> <ul class="asked-questions-list svelte-1uha8ag"></ul></section></div> <!></main>');function Lt(t,e){Fe(e,!1);const s=He;let a=Y(!1),r=Y([]),n=Y([]),o=[],i=Y(null),h=Y("");Re(async()=>{const l=await Be();$(r,l.pokemons),o=[...l.questions],u()});function p(l){if(!c(i))return;const{remaining:d,removed:g}=c(r).reduce((E,L)=>{const O=L.traits[c(i).key];return(l==="yes"?O===!0:l==="no"?O===!1:!0)?E.remaining.push(L):E.removed.push(L),E},{remaining:[],removed:[]});$(r,d);const m={...c(i),removedPokemon:g};$(n,[...c(n),m]),o=o.filter(E=>E.key!==c(i).key),u(),console.log(c(n))}function _(l){$(n,c(n).filter(d=>d.key!==l.key)),$(r,[...c(r),...l.removedPokemon]),o=[...o,l],u()}async function u(){if(c(r).length===1){$(a,!0),$(h,`Je pense que ton PokÃ©mon est ${c(r)[0].name} !`),$(i,null),De.add(c(r)[0].name),await Me(),setTimeout(()=>$(a,!1),1500),te(c(h));return}if(o.length===0||c(r).length===0){$(h,"Je ne suis pas sÃ»r... Il ne reste plus d'options."),$(i,null),te(c(h));return}$(i,ot(c(r),o)),c(i)&&te(c(i).label)}Le();var f=mt(),C=A(x(f),2),k=x(C);{var v=l=>{var d=lt(),g=re(d),m=x(g),E=x(m,!0);P(m);var L=A(m,2);P(g);var O=A(g,2),D=x(O),z=A(D,2),J=A(z,2);P(O),H(()=>X(E,c(i).label)),G("click",L,()=>{c(i)&&te(c(i).label)}),G("click",D,()=>p("unknown")),G("click",z,()=>p("no")),G("click",J,()=>p("yes")),F(l,d)},b=l=>{var d=Ee(),g=re(d);{var m=E=>{var L=ut(),O=re(L),D=x(O,!0);P(O);var z=A(O,2);H(()=>X(D,c(h))),G("click",z,()=>window.location.reload()),F(E,L)};N(g,E=>{c(h)&&E(m)},!0)}F(l,d)};N(k,l=>{c(i)?l(v):l(b,!1)})}P(C);var S=A(C,4),T=x(S),U=x(T),B=A(x(U));P(U);var q=A(U,2);ne(q,5,()=>c(r),ae,(l,d)=>{var g=dt(),m=x(g);P(g),H(()=>{fe(g,`--p-color: ${c(d).color??""};`),I(m,"src",c(d).sprite),I(m,"alt",c(d).name),I(m,"title",c(d).name)}),F(l,g)}),P(q),P(T);var M=A(T,2),j=A(x(M),2);ne(j,5,()=>c(n).slice().reverse(),ae,(l,d)=>{var g=ht(),m=x(g),E=x(m,!0);P(m);var L=A(m,2),O=x(L);P(L);var D=A(L,2);{var z=J=>{var se=vt(),ue=A(x(se),2);ne(ue,5,()=>c(d).removedPokemon,ae,(_e,Z)=>{var Q=ft();H(()=>{I(Q,"src",c(Z).sprite),I(Q,"alt",c(Z).name),I(Q,"title",c(Z).name),fe(Q,`--p-color: ${c(Z).color??""};`)}),F(_e,Q)}),P(ue),P(se),F(J,se)};N(D,J=>{c(d).removedPokemon.length>0&&J(z)})}P(g),H(()=>X(E,c(d).label)),G("click",O,()=>_(c(d))),F(l,g)}),P(j),P(M),P(S);var w=A(S,2);{var y=l=>{var d=gt(),g=x(d);P(d),H(()=>I(g,"src",`$${s}/pokeball.png`)),Qe(3,d,()=>ct,()=>({y:200,duration:1200})),F(l,d)};N(w,l=>{c(a)&&l(y)})}P(f),H(()=>X(B,` PokÃ©mons restants (${c(r).length??""}) :`)),F(t,f),qe()}export{ke as W,Lt as _};
